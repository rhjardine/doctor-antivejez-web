// ... (otros modelos como User, Account, etc.)

model Patient {
  id                String    @id @default(cuid())
  userId            String
  photo             String?
  nationality       String
  identification    String    @unique
  historyDate       DateTime
  lastName          String
  firstName         String
  birthDate         DateTime
  chronologicalAge  Int
  gender            Gender
  birthPlace        String
  phone             String
  maritalStatus     String
  profession        String
  country           String
  state             String
  city              String
  address           String
  bloodType         String
  email             String
  observations      String?
  createdAt         DateTime  @default(now())
  updatedAt         DateTime  @updatedAt
  controlNumber     Int       @default(autoincrement())

  user              User      @relation(fields: [userId], references: [id], onDelete: Cascade)
  biophysicsTests   BiophysicsTest[]
  biochemistryTests BiochemistryTest[] // <-- AÑADIR ESTA LÍNEA

  @@map("patients")
}

model BiophysicsTest {
  id                  String    @id @default(cuid())
  patientId           String
  chronologicalAge    Float
  biologicalAge       Float
  differentialAge     Float
  gender              String
  isAthlete           Boolean   @default(false)
  fatPercentage       Float?
  fatAge              Float?
  bmi                 Float?
  bmiAge              Float?
  digitalReflexes     Float?
  reflexesAge         Float?
  visualAccommodation Float?
  visualAge           Float?
  staticBalance       Float?
  balanceAge          Float?
  skinHydration       Float?
  hydrationAge        Float?
  systolicPressure    Float?
  systolicAge         Float?
  diastolicPressure   Float?
  diastolicAge        Float?
  testDate            DateTime  @default(now())
  createdAt           DateTime  @default(now())
  updatedAt           DateTime  @updatedAt

  patient             Patient   @relation(fields: [patientId], references: [id], onDelete: Cascade)

  @@map("biophysics_tests")
}

// AÑADIR ESTE NUEVO MODELO COMPLETO
model BiochemistryTest {
  id                String    @id @default(cuid())
  patientId         String
  testDate          DateTime  @default(now())
  chronologicalAge  Float
  biochemicalAge    Float
  differentialAge   Float
  somatomedin       Float?
  hba1c             Float?
  insulin           Float?
  postPrandial      Float?
  tgHdlRatio        Float?
  dhea              Float?
  homocysteine      Float?
  psa               Float?
  fsh               Float?
  boneDensitometry  Float?
  createdAt         DateTime  @default(now())
  updatedAt         DateTime  @updatedAt

  patient           Patient   @relation(fields: [patientId], references: [id], onDelete: Cascade)

  @@map("biochemistry_tests")
}

// ... (otros modelos como Board, Range, etc.)
